(window.webpackJsonpcivil_war_randomizer=window.webpackJsonpcivil_war_randomizer||[]).push([[0],{46:function(e,t,a){e.exports=a(58)},51:function(e,t,a){},52:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),i=a.n(l),c=(a(51),a(20)),o=a(7),s=a(22),u=a(14),h=a(23),m=a(24),d=a(26),f=(a(52),a(75)),y=a(76),p=a(84),v=a(77),g=a(81),E=a(73),b=a(72),k=a(79),C=a(82),j=a(78),O=[{name:"tsunilly",ratio:.5},{name:"Lomi",ratio:1},{name:"Dale",ratio:.2},{name:"mowatchi",ratio:1},{name:"Lumpy Space Princess",ratio:.9},{name:"Nori",ratio:0},{name:"Joy",ratio:.7},{name:"Cat Bugs",ratio:0},{name:"T_T",ratio:0},{name:"JonieEE",ratio:.5},{name:"Kebodo",ratio:1},{name:"JK",ratio:.5}],w=[{value:0,label:"Support"},{value:100,label:"Core"}],x=a(2),S=a(12),I=a(74),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={edit:!1,editText:""},a.handleChange=a.handleChange.bind(Object(S.a)(a)),a.handleKeyDown=a.handleKeyDown.bind(Object(S.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"startEdit",value:function(){this.setState({edit:!0,editText:this.props.text})}},{key:"handleChange",value:function(e){this.setState({editText:e.target.value})}},{key:"handleKeyDown",value:function(e){"Enter"===e.key&&(this.props.onTextChange(e.target.value),this.setState({edit:!1}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.text,n=(t.onTextChange,Object(x.a)(t,["text","onTextChange"]));return r.a.createElement(r.a.Fragment,null,this.state.edit&&r.a.createElement("input",{type:"text",value:this.state.editText,onChange:this.handleChange,onKeyDown:this.handleKeyDown}),!this.state.edit&&r.a.createElement(b.a,Object.assign({},n,{onDoubleClick:function(){return e.startEdit()}}),a,r.a.createElement(b.a,{variant:"subtitle1",component:"sup"},r.a.createElement(E.a,{onClick:function(){return e.startEdit()},edge:"end",style:{position:"relative",left:-10}},r.a.createElement(I.a,{style:{fontSize:"0.9rem"}})))))}}]),t}(r.a.Component),A=a(83),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={edit:!1,editRatio:""},a.handleChange=a.handleChange.bind(Object(S.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState({editRatio:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(A.a,{value:100*this.props.ratio,marks:w,valueLabelDisplay:"on",step:5,onChange:function(t,a){return e.props.handleChange(a)}})}}]),t}(r.a.Component);function B(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e}var D=6,N=4;function R(e){if(10!==e.length)throw new Error("Must have only 10 players");var t=function(e){var t=e.filter((function(e){return e.ratio>0})),a=e.filter((function(e){return e.ratio<1}));return[t,a]}(e),a=Object(c.a)(t,2),n=a[0],r=a[1];if(!n.length>=D)throw new Error("Not core players! ".concat(n," found, ").concat(D," needed"));if(!r.length>=N)throw new Error("Not enough support players! ".concat(r," found, ").concat(N," needed"));var l=n.filter((function(e){return 1===e.ratio})),i=r.filter((function(e){return 0===e.ratio})),o=e.filter((function(e){return!l.some((function(t){return t.name===e.name}))&&!i.some((function(t){return t.name===e.name}))})),s=D-l.length,u=N-i.length;return function(e){e.forEach((function(t,a){e[a].rng=Math.random()}))}(o),B(o),o.forEach((function(e,t){e.rng<=e.ratio?s>0?(l.push(e),s--):(i.push(e),u--):u>0?(i.push(e),u--):(l.push(e),s--)})),[l,i]}var F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={players:[],teamA:[],teamB:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleAddPlayer",value:function(e){var t=this.state.players.length;t<10&&("string"==typeof e&&"new"===e?this.setState({players:[].concat(Object(o.a)(this.state.players),[{name:"Player-".concat(t),ratio:.5}])}):"object"==typeof e&&this.setState({players:[].concat(Object(o.a)(this.state.players),[Object.assign({},e)])}))}},{key:"handleRemovePlayer",value:function(e){e<=this.state.players.length&&this.setState({players:this.state.players.filter((function(t,a){return a!==e})),teamA:[],teamB:[]})}},{key:"handlePlayerNameChange",value:function(e,t){console.log(e,t);var a=this.state.players.findIndex((function(t){return t.name===e.name})),n=this.state.players[a];n.name=t,this.setState({players:[].concat(Object(o.a)(this.state.players.slice(0,a)),[n],Object(o.a)(this.state.players.slice(a+1)))}),console.log(O)}},{key:"handleChangeValue",value:function(e,t){var a=this.state.players.findIndex((function(t){return t.name===e.name})),n=this.state.players[a];n.ratio=t/100,this.setState({players:[].concat(Object(o.a)(this.state.players.slice(0,a)),[n],Object(o.a)(this.state.players.slice(a+1)))})}},{key:"handleRoll",value:function(){console.log("rolling",this.state.players);try{var e=function(e){var t=R(e),a=Object(c.a)(t,2),n=a[0],r=a[1];return B(n),B(r),[n.slice(0,3).concat(r.slice(0,2)),n.slice(3).concat(r.slice(2))]}(this.state.players),t=Object(c.a)(e,2),a=t[0],n=t[1];this.setState({teamA:a,teamB:n})}catch(r){alert(r),console.error(r)}}},{key:"handleClear",value:function(){this.setState({players:[],teamA:[],teamB:[]})}},{key:"checkIfPlaying",value:function(e){return this.state.players.some((function(t){return t.name===e.name}))}},{key:"checkIfFull",value:function(){return 10===this.state.players.length}},{key:"checkIfNotFull",value:function(){return this.state.players.length<10}},{key:"render",value:function(){var e=this,t=O.map((function(t){return r.a.createElement(f.a,{key:t.name,item:!0},r.a.createElement(y.a,{variant:"outlined",onClick:function(){return e.handleAddPlayer(t)},disabled:e.checkIfPlaying(t)||e.checkIfFull()},t.name))})),a=this.state.players.map((function(t,a){return r.a.createElement(f.a,{key:a,item:!0,sm:6,xs:12},r.a.createElement(p.a,null,r.a.createElement(v.a,null,r.a.createElement(g.a,{pb:2},r.a.createElement(f.a,{container:!0,justify:"space-between"},r.a.createElement(f.a,{item:!0,xs:11},r.a.createElement(P,{text:t.name,onTextChange:function(a){return e.handlePlayerNameChange(t,a)},variant:"h5"})),r.a.createElement(f.a,{item:!0,xs:1},r.a.createElement(E.a,{className:"offset-y-10",onClick:function(){return e.handleRemovePlayer(a)}},r.a.createElement(j.a,null))))),r.a.createElement(g.a,{px:2},r.a.createElement(T,{ratio:t.ratio,handleChange:function(a){return e.handleChangeValue(t,a)}})))))})),n=this.state.teamA.map((function(e,t){return r.a.createElement("div",{key:t},e.name)})),l=this.state.teamB.map((function(e,t){return r.a.createElement("div",{key:t},e.name)})),i=5===this.state.teamA.length&&5===this.state.teamB.length?r.a.createElement(g.a,{mb:3},r.a.createElement(f.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(f.a,{item:!0,sm:5},r.a.createElement(b.a,{variant:"h5",align:"right"},n)),r.a.createElement(f.a,{item:!0,sm:2},r.a.createElement(b.a,{variant:"h2",align:"center"}," vs ")),r.a.createElement(f.a,{item:!0,sm:5},r.a.createElement(b.a,{variant:"h5",align:"left"},l)))):"";return r.a.createElement(k.a,null,r.a.createElement(b.a,{align:"center",variant:"h1",className:"hide"},"DC: Civil War"),r.a.createElement(C.a,{in:!this.checkIfFull()},r.a.createElement(g.a,{display:this.checkIfFull()?"none":""}," ",r.a.createElement(g.a,{pb:2},r.a.createElement(b.a,{variant:"h5"},"Select Players ",r.a.createElement(b.a,{variant:"subtitle1",component:"span"},"(",this.state.players.length,"/10 Players Added)"))),r.a.createElement(f.a,{container:!0,justify:"center",alignContent:"space-around",alignItems:"stretch",spacing:1},t),r.a.createElement("hr",{className:"hr-text","data-content":"OR"}),r.a.createElement(g.a,{pb:2},r.a.createElement(f.a,{container:!0,justify:"center"},r.a.createElement(y.a,{variant:"contained",onClick:function(){return e.handleAddPlayer("new")},disabled:10===this.state.players.length},"Add a Custom Player"),r.a.createElement(y.a,{variant:"outlined",onClick:function(){return e.handleClear("new")}},"Clear"))))),r.a.createElement(C.a,{in:this.checkIfFull()},r.a.createElement(g.a,{pb:2,display:this.checkIfFull()?"":"none"},i,r.a.createElement(y.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){return e.handleRoll()}},"Roll Roles and Teams!"),r.a.createElement(y.a,{color:"secondary",variant:"outlined",fullWidth:!0,onClick:function(){return e.handleClear()}},"Clear"))),r.a.createElement(g.a,{pb:2},r.a.createElement(f.a,{container:!0,alignContent:"space-around",spacing:2,pb:2},a)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(57);i.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.852d4ea6.chunk.js.map